{
  "openapi": "3.0.1",
  "info": {
    "title": "实训打卡",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "Auth"
    },
    {
      "name": "Users"
    },
    {
      "name": "Groups"
    },
    {
      "name": "CheckinTasks"
    },
    {
      "name": "CheckinRecords"
    },
    {
      "name": "AuditRequests"
    },
    {
      "name": "Export"
    },
    {
      "name": "Statistics"
    },
    {
      "name": "Face"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "summary": "用户注册",
        "deprecated": false,
        "description": "新用户使用用户名和密码注册。",
        "tags": [
          "Auth"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名",
                    "minLength": 3,
                    "maxLength": 50,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=3,max=50"
                    }
                  },
                  "password": {
                    "type": "string",
                    "description": "密码",
                    "minLength": 6,
                    "maxLength": 128,
                    "writeOnly": true,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=6,max=128"
                    }
                  }
                },
                "required": [
                  "username",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "用户注册成功，返回新创建的用户信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数不符合要求，例如用户名或密码长度不足、格式错误等",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "用户名已被注册，无法使用相同用户名创建新账户",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理注册请求时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/auth/login": {
      "post": {
        "summary": "用户登录",
        "deprecated": false,
        "description": "用户使用用户名和密码登录，获取 JWT。",
        "tags": [
          "Auth"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required"
                    }
                  },
                  "password": {
                    "type": "string",
                    "description": "密码",
                    "writeOnly": true,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required"
                    }
                  }
                },
                "required": [
                  "username",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "用户登录成功，返回JWT令牌、用户ID和用户名",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "token": {
                              "type": "string",
                              "description": "JWT 令牌",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "userId": {
                              "type": "integer",
                              "format": "int",
                              "description": "用户ID",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "username": {
                              "type": "string",
                              "description": "用户名",
                              "x-go-type-skip-optional-pointer": true
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如缺少用户名或密码",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户名或密码错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理登录请求时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/me": {
      "get": {
        "summary": "获取当前用户信息",
        "deprecated": false,
        "description": "获取已登录用户的个人信息",
        "tags": [
          "Users"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "成功返回当前用户的个人信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "用户信息示例": {
                    "summary": "用户信息返回",
                    "value": {
                      "code": 0,
                      "data": {
                        "userId": 101,
                        "username": "zhangsan"
                      }
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取信息时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups": {
      "post": {
        "summary": "创建用户组",
        "deprecated": false,
        "description": "任何登录用户可以创建用户组，并自动成为该组管理员。",
        "tags": [
          "Groups"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "groupName": {
                    "type": "string",
                    "description": "用户组名称",
                    "minLength": 1,
                    "maxLength": 50,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1,max=50"
                    }
                  },
                  "description": {
                    "type": "string",
                    "description": "用户组描述",
                    "maxLength": 255,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "omitempty,max=255"
                    }
                  }
                },
                "required": [
                  "groupName"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "用户组创建成功，返回新创建的用户组信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Group"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如组名长度不符合要求",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，创建用户组时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "get": {
        "summary": "获取用户相关的用户组列表",
        "deprecated": false,
        "description": "获取当前用户创建的或加入的用户组列表。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "filter",
            "in": "query",
            "description": "筛选条件: `created` (我创建的), `joined` (我加入的)。不传则返回所有相关的。",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "created",
                "joined"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取当前用户创建或加入的用户组列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "allOf": [
                              {
                                "$ref": "#/components/schemas/Group"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "roleInGroup": {
                                    "$ref": "#/components/schemas/GroupRole",
                                    "description": "当前用户在该组的角色"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}": {
      "get": {
        "summary": "获取用户组详细信息",
        "deprecated": false,
        "description": "获取指定用户组的详细信息 (组名、描述、成员数量等)。不需要是该组成员。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取指定用户组的详细信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Group"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组成员，无权查看",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "put": {
        "summary": "修改用户组信息",
        "deprecated": false,
        "description": "修改用户组的名称或描述。需要是该组管理员。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "groupName": {
                    "type": "string",
                    "description": "新的用户组名称",
                    "minLength": 1,
                    "maxLength": 50,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1,max=50"
                    }
                  },
                  "description": {
                    "type": "string",
                    "description": "新的用户组描述",
                    "maxLength": 255,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,max=255"
                    }
                  }
                },
                "required": [
                  "groupName",
                  "description"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "用户组信息修改成功，返回更新后的用户组信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Group"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如组名或描述不符合要求",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，无权修改",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "delete": {
        "summary": "删除用户组",
        "deprecated": false,
        "description": "删除指定的用户组及其关联数据。需要是该组的创建者。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "用户组删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的创建者，无权删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "删除失败，可能因为用户组内存在进行中的签到任务",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/join-requests": {
      "post": {
        "summary": "申请加入用户组",
        "deprecated": false,
        "description": "用户向指定用户组提交加入申请。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "目标用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "申请理由 (可选)",
                    "maxLength": 255,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "omitempty,max=255"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "加入用户组申请提交成功，返回申请详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/JoinRequest"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前组设置了禁止申请加入",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "申请冲突，用户已经是该组成员或已有待处理的申请",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，提交加入组申请时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "get": {
        "summary": "查看用户组的加入申请列表",
        "deprecated": false,
        "description": "用户组管理员查看待处理的加入申请。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "筛选状态: `pending` (默认), `approved`, `rejected`, `all`。",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/RequestQueryStatus",
              "default": "pending",
              "x-oapi-codegen-extra-tags": {
                "form": "status",
                "binding": "omitempty,oneof=pending approved rejected all"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取该用户组的所有加入申请列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/JoinRequest"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，无权查看",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取加入申请列表时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/join-requests/{requestId}": {
      "put": {
        "summary": "处理用户组加入申请",
        "deprecated": false,
        "description": "用户组管理员批准或拒绝用户的加入申请。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          },
          {
            "name": "requestId",
            "in": "path",
            "description": "加入申请的 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "requestId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject"
                    ],
                    "description": "处理动作",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,oneof=approve reject"
                    }
                  },
                  "rejectReason": {
                    "type": "string",
                    "description": "拒绝理由 (当 action 为 reject 时可选)",
                    "maxLength": 255,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "omitempty,max=255"
                    }
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "加入申请处理成功（批准或拒绝）",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如action值无效（必须为approve或reject）",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，无权处理",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组或加入申请不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "处理冲突，该申请已被处理过",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理加入申请时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/members": {
      "get": {
        "summary": "获取用户组成员列表",
        "deprecated": false,
        "description": "查看用户组的所有成员及其角色。需要是该组成员。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取该用户组的所有成员列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/GroupMember"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组成员，无权查看",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取成员列表时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/members/{userId}": {
      "delete": {
        "summary": "移除用户组成员",
        "deprecated": false,
        "description": "用户组管理员移除指定成员。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          },
          {
            "name": "userId",
            "in": "path",
            "description": "要移除的用户 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "userId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功从用户组移除指定成员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，或尝试移除自己/创建者",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在，或指定用户不是该组成员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，移除成员时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/my-status": {
      "get": {
        "summary": "查询当前用户在用户组中的状态",
        "deprecated": false,
        "description": "查询当前登录用户在指定用户组中的状态，包括未关联、申请中、普通成员、管理员等。",
        "tags": [
          "Groups"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功查询当前用户在指定用户组中的状态",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "$ref": "#/components/schemas/GroupMembershipStatus",
                              "description": "用户在组中的状态"
                            },
                            "joinRequestId": {
                              "type": "integer",
                              "format": "int",
                              "description": "加入申请ID (仅当status为pending或rejected时有值)",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "message": {
                              "type": "string",
                              "description": "附加信息说明 (可选)",
                              "x-go-type-skip-optional-pointer": true
                            }
                          },
                          "required": [
                            "status"
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，查询用户组状态时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/me/checkin-tasks": {
      "get": {
        "summary": "获取当前用户的签到任务",
        "deprecated": false,
        "description": "获取当前登录用户需要参与的所有签到任务列表",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "成功返回当前用户的所有签到任务列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "allOf": [
                              {
                                "$ref": "#/components/schemas/CheckinTask"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "groupName": {
                                    "type": "string",
                                    "description": "用户组的名称"
                                  },
                                  "myCheckinStatus": {
                                    "$ref": "#/components/schemas/UserCheckinStatus",
                                    "description": "当前用户的签到状态"
                                  },
                                  "verificationConfig": {
                                    "type": "object",
                                    "properties": {
                                      "checkinMethods": {
                                        "$ref": "#/components/schemas/CheckinMethods",
                                        "description": "该次签到使用的校验方式组合",
                                        "readOnly": true
                                      }
                                    },
                                    "required": [
                                      "checkinMethods"
                                    ],
                                    "description": "签到任务的验证配置项"
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "签到任务列表": {
                    "summary": "签到任务列表示例",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "taskId": 2023081501,
                          "groupId": 50,
                          "groupName": "技术一组",
                          "taskName": "早会签到",
                          "description": "每天早上9:00准时签到",
                          "startTime": 1692057600,
                          "endTime": 1692061200,
                          "status": "ongoing",
                          "verificationConfig": {
                            "checkinMethods": {
                              "gps": true,
                              "face": true,
                              "wifi": false,
                              "nfc": false
                            }
                          },
                          "myCheckinStatus": "pending",
                          "createdAt": 1692050000
                        },
                        {
                          "taskId": 2023081502,
                          "groupId": 51,
                          "groupName": "项目组A",
                          "taskName": "项目例会",
                          "description": "项目组请通过WiFi签到",
                          "startTime": 1692144000,
                          "endTime": 1692147600,
                          "status": "upcoming",
                          "verificationConfig": {
                            "checkinMethods": {
                              "gps": false,
                              "face": false,
                              "wifi": true,
                              "nfc": false
                            }
                          },
                          "myCheckinStatus": "pending",
                          "createdAt": 1692050000
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取签到任务时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/checkin-tasks": {
      "post": {
        "summary": "创建签到任务",
        "deprecated": false,
        "description": "用户组管理员在指定用户组内创建签到任务。",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "taskName": {
                    "type": "string",
                    "description": "任务名称",
                    "minLength": 1,
                    "maxLength": 100,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1,max=100"
                    }
                  },
                  "description": {
                    "type": "string",
                    "description": "任务描述",
                    "maxLength": 500,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "omitempty,max=500"
                    }
                  },
                  "startTime": {
                    "type": "integer",
                    "format": "int",
                    "description": "签到开始时间（Unix时间戳，单位：秒）",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required"
                    }
                  },
                  "endTime": {
                    "type": "integer",
                    "format": "int",
                    "description": "签到结束时间（Unix时间戳，单位：秒）",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,gtfield=StartTime"
                    }
                  },
                  "verificationConfig": {
                    "$ref": "#/components/schemas/TaskVerificationConfig",
                    "description": "任务校验配置数据"
                  }
                },
                "required": [
                  "taskName",
                  "startTime",
                  "endTime",
                  "verificationConfig"
                ],
                "description": "创建签到任务时，根据verificationConfig.checkinMethods的设置决定是否需要提供额外参数：\n- 若checkinMethods.wifi为true，则必须提供wifiInfo\n- 若checkinMethods.nfc为true，则必须提供nfcInfo"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "签到任务创建成功，返回新创建的任务详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CheckinTask"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如缺少必需参数、任务名称不符合要求等",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，无权创建任务",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，创建签到任务时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "get": {
        "summary": "获取用户组的签到任务列表",
        "deprecated": false,
        "description": "管理员查看用户组内的所有签到任务。",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取指定用户组的所有签到任务列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CheckinTask"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，无权查看此列表",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取签到任务列表时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/checkin-tasks/{taskId}": {
      "get": {
        "summary": "获取签到任务详细信息",
        "deprecated": false,
        "description": "获取指定签到任务的详细信息。需要是任务所属组成员。",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "签到任务 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "taskId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取指定签到任务的详细信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CheckinTask"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "GPS+人脸签到任务",
                    "value": {
                      "code": 0,
                      "data": {
                        "taskId": 2023081501,
                        "groupId": 50,
                        "taskName": "每日站会签到",
                        "description": "请在每天上午9:00前完成签到",
                        "startTime": 1692057600,
                        "endTime": 1692061200,
                        "status": "ongoing",
                        "verificationConfig": {
                          "checkinMethods": {
                            "gps": true,
                            "face": true,
                            "wifi": false,
                            "nfc": false
                          },
                          "locationInfo": {
                            "location": {
                              "latitude": 31.2304,
                              "longitude": 121.4737
                            },
                            "radius": 100
                          }
                        },
                        "createdAt": 1692050000
                      }
                    }
                  },
                  "2": {
                    "summary": "WiFi签到任务",
                    "value": {
                      "code": 0,
                      "data": {
                        "taskId": 2023081502,
                        "groupId": 50,
                        "taskName": "实验室签到",
                        "description": "请在实验室完成WiFi签到",
                        "startTime": 1692057600,
                        "endTime": 1692061200,
                        "status": "ongoing",
                        "verificationConfig": {
                          "checkinMethods": {
                            "gps": false,
                            "face": false,
                            "wifi": true,
                            "nfc": false
                          },
                          "locationInfo": {
                            "location": {
                              "latitude": 31.2304,
                              "longitude": 121.4737
                            },
                            "radius": 50
                          },
                          "wifiInfo": {
                            "ssid": "Lab_WiFi",
                            "bssid": "00:11:22:33:44:55"
                          }
                        },
                        "createdAt": 1692050000
                      }
                    }
                  },
                  "3": {
                    "summary": "NFC签到任务",
                    "value": {
                      "code": 0,
                      "data": {
                        "taskId": 2023081503,
                        "groupId": 50,
                        "taskName": "实验设备签到",
                        "description": "请使用实验设备上的NFC标签完成签到",
                        "startTime": 1692057600,
                        "endTime": 1692061200,
                        "status": "ongoing",
                        "verificationConfig": {
                          "checkinMethods": {
                            "gps": false,
                            "face": false,
                            "wifi": false,
                            "nfc": true
                          },
                          "locationInfo": {
                            "location": {
                              "latitude": 31.2304,
                              "longitude": 121.4737
                            },
                            "radius": 10
                          },
                          "nfcInfo": {
                            "tagId": "NFC123456",
                            "tagName": "实验室设备1号"
                          }
                        },
                        "createdAt": 1692050000
                      }
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的成员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取签到任务详情时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "put": {
        "summary": "更新签到任务",
        "deprecated": false,
        "description": "更新指定签到任务的信息。需要是任务所属组的管理员。注意：如果当前时间已经到达或超过了签到开始时间，将无法修改任务。",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "签到任务 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "taskId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "taskName": {
                    "type": "string",
                    "description": "任务名称",
                    "minLength": 1,
                    "maxLength": 100,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1,max=100"
                    }
                  },
                  "description": {
                    "type": "string",
                    "description": "任务描述",
                    "maxLength": 500,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,max=500"
                    }
                  },
                  "startTime": {
                    "type": "integer",
                    "format": "int",
                    "description": "签到开始时间（Unix时间戳，单位：秒）",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,gt=0"
                    }
                  },
                  "endTime": {
                    "type": "integer",
                    "format": "int",
                    "description": "签到结束时间（Unix时间戳，单位：秒）",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,gt=0"
                    }
                  },
                  "verificationConfig": {
                    "$ref": "#/components/schemas/TaskVerificationConfig",
                    "description": "任务校验配置数据"
                  }
                },
                "required": [
                  "taskName",
                  "description",
                  "startTime",
                  "endTime",
                  "verificationConfig"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签到任务更新成功，返回更新后的任务详细信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CheckinTask"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，可能原因：缺少必需参数、参数格式不正确等",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的管理员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "任务已经开始，无法修改",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，更新签到任务时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "delete": {
        "summary": "删除签到任务",
        "deprecated": false,
        "description": "管理员删除指定签到任务",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "签到任务删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的管理员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，删除签到任务时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/checkin-tasks/{taskId}/verify": {
      "post": {
        "summary": "验证签到信息",
        "deprecated": false,
        "description": "验证用户提供的签到信息是否符合签到任务要求，但不会创建实际的签到记录。用于在完成真正签到前预先验证用户的位置、WiFi或NFC等信息。",
        "tags": [
          "CheckinTasks"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "签到任务 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "taskId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "verifyType": {
                    "type": "string",
                    "enum": [
                      "gps",
                      "wifi",
                      "nfc"
                    ],
                    "description": "指定要验证的信息类型",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,oneof=gps wifi nfc"
                    }
                  },
                  "verificationData": {
                    "$ref": "#/components/schemas/VerificationData",
                    "description": "签到校验数据，根据verifyType提供对应字段的数据"
                  }
                },
                "required": [
                  "verifyType",
                  "verificationData"
                ]
              },
              "examples": {
                "GPS验证": {
                  "value": {
                    "verifyType": "gps",
                    "verificationData": {
                      "location": {
                        "latitude": 31.2304,
                        "longitude": 121.4737
                      }
                    }
                  },
                  "summary": "GPS位置验证示例"
                },
                "WiFi验证": {
                  "value": {
                    "verifyType": "wifi",
                    "verificationData": {
                      "wifiInfo": {
                        "ssid": "Lab_WiFi",
                        "bssid": "00:11:22:33:44:55"
                      }
                    }
                  },
                  "summary": "WiFi验证示例"
                },
                "NFC验证": {
                  "value": {
                    "verifyType": "nfc",
                    "verificationData": {
                      "nfcInfo": {
                        "tagId": "04:A2:B3:C4:D5:E6",
                        "tagData": "会议室A"
                      }
                    }
                  },
                  "summary": "NFC验证示例"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "验证结果，成功或失败以及原因",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "valid": {
                              "type": "boolean",
                              "description": "验证是否通过",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "message": {
                              "type": "string",
                              "description": "验证结果说明或失败原因",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "verifyType": {
                              "type": "string",
                              "enum": [
                                "gps",
                                "wifi",
                                "nfc"
                              ],
                              "description": "验证的信息类型",
                              "x-go-type-skip-optional-pointer": true
                            }
                          },
                          "required": [
                            "valid",
                            "message",
                            "verifyType"
                          ]
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "GPS验证通过": {
                    "summary": "GPS验证通过示例",
                    "value": {
                      "code": 0,
                      "data": {
                        "valid": true,
                        "message": "位置验证通过",
                        "verifyType": "gps"
                      }
                    }
                  },
                  "WiFi验证失败": {
                    "summary": "WiFi验证失败示例",
                    "value": {
                      "code": 0,
                      "data": {
                        "valid": false,
                        "message": "未检测到指定WiFi网络",
                        "verifyType": "wifi"
                      }
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，可能原因：缺少必需参数、参数格式不正确或缺少对应验证类型所需的数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的成员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理验证请求时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/me/checkin-records": {
      "get": {
        "summary": "获取当前用户签到记录",
        "deprecated": false,
        "description": "获取当前用户的所有签到记录",
        "tags": [
          "CheckinRecords"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "成功返回用户的签到记录列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CheckinRecord"
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "签到记录": {
                    "summary": "用户签到记录列表示例",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "recordId": 98765,
                          "taskId": 2023081501,
                          "taskName": "早会签到",
                          "groupId": 50,
                          "groupName": "技术一组",
                          "userId": 101,
                          "username": "zhangsan",
                          "signedTime": 1689486600,
                          "locationInfo": {
                            "location": {
                              "latitude": 39.915,
                              "longitude": 116.404
                            }
                          },
                          "status": "success",
                          "message": "签到成功",
                          "checkinMethods": {
                            "gps": true,
                            "face": true,
                            "wifi": false,
                            "nfc": false
                          },
                          "createdAt": 1689486600
                        },
                        {
                          "recordId": 98766,
                          "taskId": 2023081405,
                          "taskName": "项目进度汇报",
                          "groupId": 51,
                          "groupName": "项目组A",
                          "userId": 101,
                          "username": "zhangsan",
                          "signedTime": 1689399900,
                          "locationInfo": {
                            "location": {
                              "latitude": 39.917,
                              "longitude": 116.406
                            }
                          },
                          "status": "failed_location",
                          "message": "位置不符",
                          "failureReason": "不在签到范围内",
                          "checkinMethods": {
                            "gps": true,
                            "face": false,
                            "wifi": true,
                            "nfc": false
                          },
                          "createdAt": 1689399900
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取签到记录时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/checkin-tasks/{taskId}/checkin": {
      "post": {
        "summary": "执行签到",
        "deprecated": false,
        "description": "用户针对某个签到任务执行签到操作。根据任务配置的校验方式提供相应数据。需要登录且是任务所属组成员。",
        "tags": [
          "CheckinRecords"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "签到任务 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "taskId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "verificationData": {
                    "$ref": "#/components/schemas/VerificationData",
                    "description": "签到校验数据，根据verifyType提供对应字段的数据"
                  },
                  "signinTime": {
                    "type": "integer",
                    "format": "int",
                    "description": "用户提交的签到时间（Unix时间戳，单位：秒），默认为当前时间",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "json": "signinTime",
                      "binding": "omitempty"
                    }
                  },
                  "groupId": {
                    "type": "integer",
                    "format": "int",
                    "description": "用户组ID",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "json": "groupId",
                      "binding": "omitempty,gt=0"
                    }
                  }
                },
                "required": [
                  "verificationData"
                ],
                "description": "请根据任务的校验方式配置提供相应的校验数据。服务器会根据任务配置校验必要字段。"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签到请求处理完成，返回签到结果状态（包括成功、失败及原因、签到时间状态）",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "recordId": {
                              "type": "integer",
                              "format": "int",
                              "description": "签到记录ID"
                            },
                            "signedTime": {
                              "type": "integer",
                              "format": "int",
                              "description": "签到时间戳（秒）"
                            },
                            "success": {
                              "type": "boolean",
                              "description": "签到是否成功"
                            }
                          },
                          "required": [
                            "recordId",
                            "signedTime",
                            "success"
                          ]
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "code": 0,
                  "data": {
                    "recordId": 98765,
                    "signedTime": 1689486600,
                    "success": true
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，可能原因：缺少必需参数、参数格式不正确或缺少任务配置所需的校验数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的成员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理签到请求时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/checkin-tasks/{taskId}/records": {
      "get": {
        "summary": "获取签到任务的签到记录列表 (管理员视角)",
        "deprecated": false,
        "description": "用户组管理员查看某个签到任务的所有成功签到记录。",
        "tags": [
          "CheckinRecords"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "签到任务 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "taskId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取指定任务的所有成功签到记录",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CheckinRecord"
                          },
                          "description": "所有成功签到的成员记录"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "签到记录列表": {
                    "summary": "任务签到记录示例",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "recordId": 98765,
                          "taskId": 2023081501,
                          "taskName": "每日站会签到",
                          "groupId": 50,
                          "groupName": "研发一部",
                          "userId": 101,
                          "username": "张三",
                          "signedTime": 1689486600,
                          "message": "签到成功",
                          "checkinMethods": {
                            "gps": true,
                            "face": true,
                            "wifi": false,
                            "nfc": false
                          }
                        },
                        {
                          "recordId": 98770,
                          "taskId": 2023081501,
                          "taskName": "每日站会签到",
                          "groupId": 50,
                          "groupName": "研发一部",
                          "userId": 105,
                          "username": "钱七",
                          "signedTime": 1689486800,
                          "message": "签到成功",
                          "checkinMethods": {
                            "gps": true,
                            "face": true,
                            "wifi": false,
                            "nfc": false
                          }
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的管理员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取签到记录列表时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/me/audit-requests": {
      "get": {
        "summary": "获取当前用户的审核请求",
        "deprecated": false,
        "description": "获取当前用户提交的所有审核请求列表",
        "tags": [
          "AuditRequests"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "成功返回当前用户的所有审核请求列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AuditRequest"
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "审核请求": {
                    "summary": "用户审核请求列表示例",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "auditRequestId": 4005,
                          "taskId": 2023081402,
                          "taskName": "项目进度汇报",
                          "userId": 101,
                          "username": "zhangsan",
                          "reason": "系统定位有误，实际已到场",
                          "proofImageUrls": "https://example.com/proof/IMG_1234.jpg",
                          "status": "pending",
                          "requestedAt": 1689398400
                        },
                        {
                          "auditRequestId": 4001,
                          "taskId": 2023081301,
                          "taskName": "早会签到",
                          "userId": 101,
                          "username": "zhangsan",
                          "reason": "人脸识别失败，实际已到场",
                          "proofImageUrls": "https://example.com/proof/IMG_1200.jpg",
                          "status": "approved",
                          "requestedAt": 1689312000,
                          "adminId": 105,
                          "adminUsername": "wangwu",
                          "processedAt": 1689315600
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/groups/{groupId}/audit-requests": {
      "get": {
        "summary": "获取用户组的签到审核申请列表",
        "deprecated": false,
        "description": "管理员查看用户组内的所有签到异常审核申请。",
        "tags": [
          "AuditRequests"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "description": "用户组 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "groupId",
                "binding": "required,gt=0"
              }
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "按状态筛选: `pending`, `processed`, `all`",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/RequestQueryStatus",
              "default": "pending",
              "x-oapi-codegen-extra-tags": {
                "form": "status",
                "binding": "omitempty,oneof=pending approved rejected all"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取指定用户组的所有签到审核申请列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AuditRequest"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，当前用户不是该组的管理员，无权查看",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的用户组不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取审核申请列表时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/checkin-tasks/{taskId}/audit-requests": {
      "post": {
        "summary": "提交签到异常审核申请",
        "deprecated": false,
        "description": "当用户无法通过常规方式成功签到时，可以提交异常情况说明和证明，申请人工审核。审核通过后才会生成签到记录。",
        "tags": [
          "AuditRequests"
        ],
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "相关的签到任务 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "taskId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "异常原因说明",
                    "minLength": 1,
                    "maxLength": 500,
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1,max=500"
                    }
                  },
                  "proofImageUrls": {
                    "type": "string",
                    "description": "证明图片 URL (可选)",
                    "x-oapi-codegen-extra-tags": {
                      "binding": "omitempty,url"
                    }
                  }
                },
                "required": [
                  "reason"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "异常签到审核申请提交成功，返回申请详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/AuditRequest"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如缺少必需字段或内容格式错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录或Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是任务所属组的成员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "已经存在该用户对该任务的审核申请",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，提交审核申请时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit-requests/{auditRequestId}": {
      "put": {
        "summary": "处理签到审核申请",
        "deprecated": false,
        "description": "用户组管理员批准或拒绝签到审核申请。批准后将创建成功的签到记录。",
        "tags": [
          "AuditRequests"
        ],
        "parameters": [
          {
            "name": "auditRequestId",
            "in": "path",
            "description": "审核申请的 ID",
            "required": true,
            "example": 0,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "uri": "auditRequestId",
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject"
                    ],
                    "description": "处理动作",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,oneof=approve reject"
                    }
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签到审核申请处理成功（批准或拒绝）",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Success"
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，可能原因：action参数值无效",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，需要重新登录",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，可能原因：不是申请所属组的管理员",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Forbidden"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的审核申请不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "处理冲突，可能原因：该申请已被处理过",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conflict"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/export/tasks": {
      "get": {
        "summary": "获取导出任务列表",
        "deprecated": false,
        "description": "获取当前用户创建的所有导出任务及状态",
        "tags": [
          "Export"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "taskId": {
                                "type": "integer",
                                "format": "int",
                                "description": "导出任务ID",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              },
                              "params": {
                                "type": "object",
                                "properties": {
                                  "groupIds": {
                                    "type": "array",
                                    "items": {
                                      "type": "integer",
                                      "format": "int"
                                    },
                                    "description": "用户组ID列表"
                                  },
                                  "dateRange": {
                                    "type": "object",
                                    "properties": {
                                      "start": {
                                        "type": "integer",
                                        "format": "int",
                                        "description": "开始日期（Unix时间戳，单位：秒）"
                                      },
                                      "end": {
                                        "type": "integer",
                                        "format": "int",
                                        "description": "结束日期（Unix时间戳，单位：秒）"
                                      }
                                    },
                                    "required": [
                                      "start",
                                      "end"
                                    ]
                                  },
                                  "statuses": {
                                    "type": "array",
                                    "items": {
                                      "type": "string",
                                      "enum": [
                                        "success",
                                        "failed_location",
                                        "failed_time",
                                        "failed_face",
                                        "failed_wifi",
                                        "failed_nfc",
                                        "failed_other",
                                        "pending_audit",
                                        "audit_approved",
                                        "audit_rejected",
                                        "absent"
                                      ]
                                    },
                                    "description": "签到状态列表"
                                  }
                                },
                                "required": [
                                  "groupIds",
                                  "dateRange",
                                  "statuses"
                                ]
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "processing",
                                  "completed",
                                  "failed"
                                ],
                                "description": "导出任务状态",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "startTime": {
                                "type": "integer",
                                "format": "int",
                                "description": "开始时间（Unix时间戳，单位：秒）",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              },
                              "endTime": {
                                "type": "integer",
                                "format": "int",
                                "description": "完成时间（Unix时间戳，单位：秒）",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              },
                              "fileName": {
                                "type": "string",
                                "description": "导出文件名",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              },
                              "fileUrl": {
                                "type": "string",
                                "description": "文件下载URL",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              },
                              "error": {
                                "type": "string",
                                "description": "错误信息（仅当导出失败时存在）",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              },
                              "createdAt": {
                                "type": "integer",
                                "format": "int",
                                "description": "创建时间（Unix时间戳，单位：秒）",
                                "readOnly": true,
                                "x-go-type-skip-optional-pointer": true
                              }
                            },
                            "required": [
                              "taskId",
                              "params",
                              "status",
                              "startTime",
                              "createdAt"
                            ]
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "导出任务列表示例": {
                    "summary": "导出任务列表",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "taskId": 123,
                          "params": {
                            "groupIds": [
                              50,
                              51
                            ],
                            "dateRange": {
                              "start": 1709251200,
                              "end": 1711929600
                            },
                            "statuses": [
                              "success",
                              "failed_location",
                              "absent"
                            ]
                          },
                          "status": "completed",
                          "startTime": 1711075200,
                          "endTime": 1711075260,
                          "fileName": "checkins_20240322.csv",
                          "fileUrl": "/api/v1/export/files/checkins_20240322.csv",
                          "createdAt": 1711075200
                        },
                        {
                          "taskId": 122,
                          "params": {
                            "groupIds": [
                              50
                            ],
                            "dateRange": {
                              "start": 1706745600,
                              "end": 1709337600
                            },
                            "statuses": [
                              "success",
                              "failed_location",
                              "absent",
                              "pending_audit",
                              "audit_approved",
                              "audit_rejected"
                            ]
                          },
                          "status": "processing",
                          "startTime": 1711075080,
                          "createdAt": 1711075080
                        },
                        {
                          "taskId": 121,
                          "params": {
                            "groupIds": [
                              50,
                              51,
                              52
                            ],
                            "dateRange": {
                              "start": 1704067200,
                              "end": 1711929600
                            },
                            "statuses": [
                              "success"
                            ]
                          },
                          "status": "failed",
                          "startTime": 1711074900,
                          "endTime": 1711074930,
                          "error": "导出失败：数据量过大",
                          "createdAt": 1711074900
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录、Token无效或已过期，需要重新登录获取有效凭证",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取导出任务列表时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "post": {
        "summary": "创建导出任务",
        "deprecated": false,
        "description": "根据指定的参数创建新的签到数据导出任务",
        "tags": [
          "Export"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "groupIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int"
                    },
                    "description": "需要导出的用户组ID列表",
                    "minItems": 1,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1,dive,gt=0"
                    }
                  },
                  "dateRange": {
                    "type": "object",
                    "properties": {
                      "start": {
                        "type": "integer",
                        "format": "int",
                        "description": "开始日期（Unix时间戳，单位：秒）",
                        "x-oapi-codegen-extra-tags": {
                          "binding": "required"
                        }
                      },
                      "end": {
                        "type": "integer",
                        "format": "int",
                        "description": "结束日期（Unix时间戳，单位：秒）",
                        "x-oapi-codegen-extra-tags": {
                          "binding": "required,gtefield=start"
                        }
                      }
                    },
                    "required": [
                      "start",
                      "end"
                    ],
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required"
                    }
                  },
                  "statuses": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "success",
                        "failed_location",
                        "failed_time",
                        "failed_face",
                        "failed_wifi",
                        "failed_nfc",
                        "failed_other",
                        "pending_audit",
                        "audit_approved",
                        "audit_rejected",
                        "absent"
                      ]
                    },
                    "description": "需要导出的签到状态列表",
                    "default": [
                      "success",
                      "failed_location",
                      "failed_time",
                      "failed_face",
                      "failed_wifi",
                      "failed_nfc",
                      "failed_other",
                      "absent"
                    ],
                    "x-oapi-codegen-extra-tags": {
                      "binding": "omitempty"
                    }
                  }
                },
                "required": [
                  "groupIds",
                  "dateRange"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "taskId": {
                              "type": "integer",
                              "format": "int",
                              "description": "导出任务ID",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "pending",
                                "processing",
                                "completed",
                                "failed"
                              ],
                              "description": "导出任务状态",
                              "x-go-type-skip-optional-pointer": true
                            }
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "创建导出任务响应": {
                    "summary": "创建导出任务响应示例",
                    "value": {
                      "code": 0,
                      "data": {
                        "taskId": 124,
                        "status": "pending"
                      }
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，如参数格式不正确、缺少必需参数、参数值无效或超出范围",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录、Token无效或已过期，需要重新登录获取有效凭证",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，用户身份已验证但不具备执行当前操作的权限，如非管理员尝试执行管理操作",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，创建导出任务时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/export/files/{fileName}": {
      "get": {
        "summary": "下载导出文件",
        "deprecated": false,
        "description": "下载指定的导出文件",
        "tags": [
          "Export"
        ],
        "parameters": [
          {
            "name": "fileName",
            "in": "path",
            "description": "导出文件名",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "x-oapi-codegen-extra-tags": {
                "uri": "fileName",
                "binding": "required"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导出文件内容",
            "content": {
              "application/csv": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录、Token无效或已过期，需要重新登录获取有效凭证",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，用户身份已验证但不具备执行当前操作的权限，如非管理员尝试执行管理操作",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "请求的资源不存在，如查询不存在的用户组、签到任务或用户ID",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取导出文件时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/statistics/groups": {
      "get": {
        "summary": "获取用户组签到统计数据",
        "deprecated": false,
        "description": "获取所有用户组的签到统计数据，包括成功的、缺勤的等",
        "tags": [
          "Statistics"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期（Unix时间戳，单位：秒）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "startDate",
                "binding": "omitempty"
              }
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期（Unix时间戳，单位：秒）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "endDate",
                "binding": "omitempty,gtefield=StartDate"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "groupId": {
                                "type": "integer",
                                "format": "int",
                                "description": "用户组ID",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "groupName": {
                                "type": "string",
                                "description": "用户组名称",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "total": {
                                "type": "integer",
                                "format": "int",
                                "description": "总签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "success": {
                                "type": "integer",
                                "format": "int",
                                "description": "成功签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "failed": {
                                "type": "integer",
                                "format": "int",
                                "description": "失败签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "absent": {
                                "type": "integer",
                                "format": "int",
                                "description": "缺勤次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "exception": {
                                "type": "integer",
                                "format": "int",
                                "description": "异常签到次数（包括审核中和已审核）",
                                "x-go-type-skip-optional-pointer": true
                              }
                            },
                            "required": [
                              "groupId",
                              "groupName",
                              "total",
                              "success",
                              "failed",
                              "absent",
                              "exception"
                            ]
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "用户组统计数据示例": {
                    "summary": "用户组签到统计",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "groupId": 50,
                          "groupName": "技术一组",
                          "total": 1000,
                          "success": 850,
                          "failed": 50,
                          "absent": 70,
                          "exception": 30
                        },
                        {
                          "groupId": 51,
                          "groupName": "技术二组",
                          "total": 1000,
                          "success": 840,
                          "failed": 60,
                          "absent": 80,
                          "exception": 20
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录、Token无效或已过期，需要重新登录获取有效凭证",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，用户身份已验证但不具备执行当前操作的权限，如非管理员尝试执行管理操作",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理请求时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/statistics/users": {
      "get": {
        "summary": "获取用户签到统计数据",
        "deprecated": false,
        "description": "获取用户的签到统计数据详情",
        "tags": [
          "Statistics"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "query",
            "description": "用户组ID（筛选特定用户组的用户）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "groupId",
                "binding": "omitempty,gt=0"
              }
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期（Unix时间戳，单位：秒）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "startDate",
                "binding": "omitempty"
              }
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期（Unix时间戳，单位：秒）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "endDate",
                "binding": "omitempty,gtefield=StartDate"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "userId": {
                                "type": "integer",
                                "format": "int",
                                "description": "用户ID",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "username": {
                                "type": "string",
                                "description": "用户名",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "groupId": {
                                "type": "integer",
                                "format": "int",
                                "description": "用户组ID",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "groupName": {
                                "type": "string",
                                "description": "用户组名称",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "total": {
                                "type": "integer",
                                "format": "int",
                                "description": "总签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "success": {
                                "type": "integer",
                                "format": "int",
                                "description": "成功签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "failed": {
                                "type": "integer",
                                "format": "int",
                                "description": "失败签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "absent": {
                                "type": "integer",
                                "format": "int",
                                "description": "缺勤次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "exception": {
                                "type": "integer",
                                "format": "int",
                                "description": "异常签到次数（包括审核中和已审核）",
                                "x-go-type-skip-optional-pointer": true
                              }
                            },
                            "required": [
                              "userId",
                              "username",
                              "groupId",
                              "groupName",
                              "total",
                              "success",
                              "failed",
                              "absent",
                              "exception"
                            ]
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "用户统计数据示例": {
                    "summary": "用户签到统计",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "userId": 101,
                          "username": "张工",
                          "groupId": 50,
                          "groupName": "技术一组",
                          "total": 100,
                          "success": 85,
                          "failed": 5,
                          "absent": 7,
                          "exception": 3
                        },
                        {
                          "userId": 102,
                          "username": "李工",
                          "groupId": 50,
                          "groupName": "技术一组",
                          "total": 100,
                          "success": 88,
                          "failed": 4,
                          "absent": 6,
                          "exception": 2
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录、Token无效或已过期，需要重新登录获取有效凭证",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，用户身份已验证但不具备执行当前操作的权限，如非管理员尝试执行管理操作",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取统计数据时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/statistics/daily": {
      "get": {
        "summary": "获取每日签到统计",
        "deprecated": false,
        "description": "获取每日签到统计数据，按日期分组展示",
        "tags": [
          "Statistics"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "query",
            "description": "用户组ID（可选，筛选特定用户组的统计数据）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "groupId",
                "binding": "omitempty,gt=0"
              }
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期（Unix时间戳，单位：秒）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "startDate",
                "binding": "omitempty"
              }
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期（Unix时间戳，单位：秒）",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "form": "endDate",
                "binding": "omitempty,gtefield=StartDate"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "integer",
                                "format": "int",
                                "description": "日期（Unix时间戳，单位：秒）",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "total": {
                                "type": "integer",
                                "format": "int",
                                "description": "总签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "success": {
                                "type": "integer",
                                "format": "int",
                                "description": "成功签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "failed": {
                                "type": "integer",
                                "format": "int",
                                "description": "失败签到次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "absent": {
                                "type": "integer",
                                "format": "int",
                                "description": "缺勤次数",
                                "x-go-type-skip-optional-pointer": true
                              },
                              "exception": {
                                "type": "integer",
                                "format": "int",
                                "description": "异常签到次数（包括审核中和已审核）",
                                "x-go-type-skip-optional-pointer": true
                              }
                            },
                            "required": [
                              "date",
                              "total",
                              "success",
                              "failed",
                              "absent",
                              "exception"
                            ]
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "每日统计数据示例": {
                    "summary": "每日签到统计",
                    "value": {
                      "code": 0,
                      "data": [
                        {
                          "date": 1711056000,
                          "total": 100,
                          "success": 85,
                          "failed": 5,
                          "absent": 7,
                          "exception": 3
                        },
                        {
                          "date": 1711142400,
                          "total": 100,
                          "success": 88,
                          "failed": 4,
                          "absent": 6,
                          "exception": 2
                        }
                      ]
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "认证失败，用户未登录、Token无效或已过期，需要重新登录获取有效凭证",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "权限不足，用户身份已验证但不具备执行当前操作的权限，如非管理员尝试执行管理操作",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/BaseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "message"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取统计数据时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/me/face": {
      "get": {
        "summary": "获取当前用户的人脸数据",
        "deprecated": false,
        "description": "获取已登录用户的人脸数据信息，如果尚未设置则返回404错误",
        "tags": [
          "Face"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "description": "用户ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int",
              "x-oapi-codegen-extra-tags": {
                "binding": "required,gt=0"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回当前用户的人脸数据",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "faceId": {
                              "type": "integer",
                              "format": "int",
                              "description": "人脸数据ID",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "userId": {
                              "type": "integer",
                              "format": "int",
                              "description": "用户ID",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "faceImageBase64": {
                              "type": "string",
                              "description": "人脸图像的Base64编码",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "createdAt": {
                              "type": "integer",
                              "format": "int",
                              "description": "创建时间（Unix时间戳，单位：秒）",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "updatedAt": {
                              "type": "integer",
                              "format": "int",
                              "description": "最后更新时间（Unix时间戳，单位：秒）",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            }
                          },
                          "required": [
                            "faceImageBase64"
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "当前用户尚未设置人脸数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，获取人脸数据时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "put": {
        "summary": "创建或更新当前用户的人脸数据",
        "deprecated": false,
        "description": "创建或更新已登录用户的人脸数据信息，如果存在则更新，不存在则创建",
        "tags": [
          "Face"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "integer",
                    "format": "int",
                    "description": "用户ID",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required"
                    }
                  },
                  "faceImageBase64": {
                    "type": "string",
                    "description": "人脸图像的Base64编码",
                    "x-go-type-skip-optional-pointer": true,
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required"
                    }
                  }
                },
                "required": [
                  "faceImageBase64",
                  "userId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "人脸数据更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "faceId": {
                              "type": "integer",
                              "format": "int",
                              "description": "人脸数据ID",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "userId": {
                              "type": "integer",
                              "format": "int",
                              "description": "用户ID",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "faceImageBase64": {
                              "type": "string",
                              "description": "人脸图像的Base64编码",
                              "x-go-type-skip-optional-pointer": true
                            },
                            "createdAt": {
                              "type": "integer",
                              "format": "int",
                              "description": "创建时间（Unix时间戳，单位：秒）",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "updatedAt": {
                              "type": "integer",
                              "format": "int",
                              "description": "最后更新时间（Unix时间戳，单位：秒）",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            }
                          },
                          "required": [
                            "faceImageBase64"
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "201": {
            "description": "人脸数据创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "faceId": {
                              "type": "integer",
                              "format": "int",
                              "description": "人脸数据ID",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "userId": {
                              "type": "integer",
                              "format": "int",
                              "description": "用户ID",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "createdAt": {
                              "type": "integer",
                              "format": "int",
                              "description": "创建时间（Unix时间戳，单位：秒）",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            },
                            "updatedAt": {
                              "type": "integer",
                              "format": "int",
                              "description": "最后更新时间（Unix时间戳，单位：秒）",
                              "readOnly": true,
                              "x-go-type-skip-optional-pointer": true
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如提供的Base64格式不正确或人脸识别失败",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，保存人脸数据时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/me/face/verify": {
      "post": {
        "summary": "验证人脸数据",
        "deprecated": false,
        "description": "验证提供的人脸数据是否与当前用户的人脸数据匹配",
        "tags": [
          "Face"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "integer",
                    "format": "int",
                    "description": "用户ID",
                    "readOnly": true,
                    "x-go-type-skip-optional-pointer": true
                  },
                  "faceImagesBase64": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "待验证的人脸图像Base64编码数组",
                    "x-oapi-codegen-extra-tags": {
                      "binding": "required,min=1"
                    }
                  }
                },
                "required": [
                  "userId",
                  "faceImagesBase64"
                ],
                "description": "人脸验证请求数据"
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "人脸验证成功，返回匹配结果",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/SuccessWithData"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "isMatch": {
                              "type": "boolean",
                              "description": "人脸是否匹配",
                              "x-go-type-skip-optional-pointer": true
                            }
                          },
                          "required": [
                            "isMatch"
                          ],
                          "description": "人脸验证响应数据"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "验证示例": {
                    "summary": "人脸验证示例",
                    "value": {
                      "code": 0,
                      "data": {
                        "isMatch": true
                      }
                    }
                  }
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "请求参数错误，例如提供的Base64格式不正确或人脸识别失败",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequest"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "用户未登录或提供的Token无效/过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Unauthorized"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "当前用户尚未设置人脸数据，无法进行验证",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFound"
                }
              }
            },
            "headers": {}
          },
          "500": {
            "description": "服务器内部错误，处理批量人脸验证时发生异常",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerError"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int",
            "description": "用户ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              101
            ]
          },
          "username": {
            "type": "string",
            "description": "用户名",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "zhangsan"
            ]
          }
        }
      },
      "Group": {
        "type": "object",
        "properties": {
          "groupId": {
            "type": "integer",
            "format": "int",
            "description": "用户组ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          },
          "groupName": {
            "type": "string",
            "description": "用户组名称",
            "x-go-type-skip-optional-pointer": true
          },
          "description": {
            "type": "string",
            "description": "用户组描述",
            "x-go-type-skip-optional-pointer": true
          },
          "creatorId": {
            "type": "integer",
            "format": "int",
            "description": "创建者用户ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          },
          "creatorName": {
            "type": "string",
            "description": "创建者用户名",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "zhangsan"
            ]
          },
          "memberCount": {
            "type": "integer",
            "description": "成员数量",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          },
          "createdAt": {
            "type": "integer",
            "format": "int",
            "description": "创建时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1689312000
            ]
          }
        }
      },
      "GroupMember": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int",
            "description": "用户ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              102
            ]
          },
          "username": {
            "type": "string",
            "description": "用户名",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "lisi"
            ]
          },
          "role": {
            "type": "string",
            "description": "用户在组中的角色，如'admin'或'member'",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "member"
            ]
          },
          "joinedAt": {
            "type": "integer",
            "format": "int",
            "description": "加入时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          }
        }
      },
      "CheckinTask": {
        "type": "object",
        "properties": {
          "taskId": {
            "type": "integer",
            "format": "int",
            "description": "签到任务ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              2023081501
            ]
          },
          "groupId": {
            "type": "integer",
            "format": "int",
            "description": "所属用户组ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              50
            ]
          },
          "taskName": {
            "type": "string",
            "description": "任务名称",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "每日站会签到"
            ]
          },
          "description": {
            "type": "string",
            "description": "任务描述",
            "default": {},
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "请在每天上午9:00前完成签到"
            ]
          },
          "startTime": {
            "type": "integer",
            "format": "int",
            "description": "签到开始时间（Unix时间戳，单位：秒）",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1692057600
            ]
          },
          "endTime": {
            "type": "integer",
            "format": "int",
            "description": "签到结束时间（Unix时间戳，单位：秒）",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1692061200
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "ongoing",
              "upcoming",
              "expired"
            ],
            "description": "任务状态",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "ongoing"
            ]
          },
          "verificationConfig": {
            "$ref": "#/components/schemas/TaskVerificationConfig",
            "description": "任务校验配置数据"
          },
          "createdAt": {
            "type": "integer",
            "format": "int",
            "description": "创建时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          }
        },
        "required": [
          "taskId",
          "groupId",
          "taskName",
          "startTime",
          "endTime",
          "status",
          "verificationConfig"
        ]
      },
      "CheckinRecord": {
        "type": "object",
        "properties": {
          "recordId": {
            "type": "integer",
            "format": "int",
            "description": "签到记录ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              98765
            ]
          },
          "taskId": {
            "type": "integer",
            "format": "int",
            "description": "签到任务ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              2023081501
            ]
          },
          "taskName": {
            "type": "string",
            "description": "签到任务名称",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "每日站会签到"
            ]
          },
          "groupId": {
            "type": "integer",
            "format": "int",
            "description": "用户组ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              50
            ]
          },
          "groupName": {
            "type": "string",
            "description": "用户组名称",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "研发一部"
            ]
          },
          "userId": {
            "type": "integer",
            "format": "int",
            "description": "签到用户ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              102
            ]
          },
          "username": {
            "type": "string",
            "description": "签到用户名",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "lisi"
            ]
          },
          "signedTime": {
            "type": "integer",
            "format": "int",
            "description": "实际签到时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1689486600
            ]
          },
          "message": {
            "type": "string",
            "description": "签到信息",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "签到成功"
            ]
          },
          "checkinMethods": {
            "$ref": "#/components/schemas/CheckinMethods",
            "description": "该次签到使用的校验方式组合",
            "readOnly": true
          },
          "locationInfo": {
            "type": "object",
            "properties": {
              "location": {
                "$ref": "#/components/schemas/Location"
              }
            },
            "description": "位置信息"
          },
          "createdAt": {
            "type": "integer",
            "format": "int",
            "description": "创建时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1689486600
            ]
          }
        },
        "required": [
          "recordId",
          "taskId",
          "taskName",
          "groupId",
          "groupName",
          "userId",
          "username",
          "checkinMethods"
        ],
        "description": "签到记录，包含任务基本信息和签到信息。只包含成功签到的记录。"
      },
      "Location": {
        "type": "object",
        "properties": {
          "latitude": {
            "type": "number",
            "format": "double",
            "description": "纬度",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              39.915
            ]
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "description": "经度",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              116.404
            ]
          }
        }
      },
      "LoginResponseData": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "JWT令牌",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
            ]
          },
          "userId": {
            "type": "integer",
            "format": "int",
            "description": "用户ID",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              101
            ]
          },
          "username": {
            "type": "string",
            "description": "用户名",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "zhangsan"
            ]
          }
        }
      },
      "JoinRequest": {
        "type": "object",
        "properties": {
          "requestId": {
            "type": "integer",
            "format": "int",
            "description": "申请ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              3001
            ]
          },
          "groupId": {
            "type": "integer",
            "format": "int",
            "description": "用户组ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              51
            ]
          },
          "userId": {
            "type": "integer",
            "format": "int",
            "description": "申请用户ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              105
            ]
          },
          "username": {
            "type": "string",
            "description": "申请用户名",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "wangwu"
            ]
          },
          "status": {
            "type": "string",
            "description": "申请状态",
            "enum": [
              "pending",
              "approved",
              "rejected"
            ],
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "pending"
            ]
          },
          "requestedAt": {
            "type": "integer",
            "format": "int",
            "description": "申请时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1689312000
            ]
          }
        }
      },
      "AuditRequest": {
        "type": "object",
        "properties": {
          "auditRequestId": {
            "type": "integer",
            "format": "int",
            "description": "审核申请ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              4005
            ]
          },
          "taskId": {
            "type": "integer",
            "format": "int",
            "description": "签到任务ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              2023081402
            ]
          },
          "taskName": {
            "type": "string",
            "description": "签到任务名称",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "项目复盘会签到"
            ]
          },
          "userId": {
            "type": "integer",
            "format": "int",
            "description": "申请用户ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              103
            ]
          },
          "username": {
            "type": "string",
            "description": "申请用户名",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "zhaoliu"
            ]
          },
          "reason": {
            "type": "string",
            "description": "申请原因",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "因设备网络故障，未能及时签到"
            ]
          },
          "proofImageUrls": {
            "type": "string",
            "description": "证明材料图片URL",
            "default": "",
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "https://example.com/proof/IMG_1234.jpg"
            ]
          },
          "status": {
            "type": "string",
            "description": "审核状态",
            "enum": [
              "pending",
              "approved",
              "rejected"
            ],
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              "pending"
            ]
          },
          "requestedAt": {
            "type": "integer",
            "format": "int",
            "description": "申请时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1689398400
            ]
          },
          "adminId": {
            "type": "integer",
            "format": "int",
            "description": "处理管理员ID",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          },
          "adminUsername": {
            "type": "string",
            "description": "处理管理员用户名",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true
          },
          "processedAt": {
            "type": "integer",
            "format": "int",
            "description": "处理时间（Unix时间戳，单位：秒）",
            "readOnly": true,
            "x-go-type-skip-optional-pointer": true,
            "examples": [
              1689484800
            ]
          }
        }
      },
      "RequestStatus": {
        "type": "string",
        "enum": [
          "pending",
          "approved",
          "rejected"
        ],
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "pending"
        ]
      },
      "CheckinStatus": {
        "type": "string",
        "enum": [
          "success",
          "failed_location",
          "failed_time",
          "failed_face",
          "failed_wifi",
          "failed_nfc",
          "failed_other",
          "pending_audit",
          "audit_approved",
          "audit_rejected",
          "absent"
        ],
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "success"
        ]
      },
      "GroupRole": {
        "type": "string",
        "enum": [
          "admin",
          "member"
        ],
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "member"
        ]
      },
      "UserCheckinStatus": {
        "type": "string",
        "enum": [
          "pending",
          "success",
          "pending_audit",
          "audit_approved",
          "audit_rejected",
          "timeout"
        ],
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "pending"
        ]
      },
      "TaskQueryStatus": {
        "type": "string",
        "enum": [
          "all",
          "ongoing",
          "upcoming",
          "expired"
        ],
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "ongoing"
        ]
      },
      "RequestQueryStatus": {
        "type": "string",
        "enum": [
          "all",
          "pending",
          "processed"
        ],
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "pending"
        ]
      },
      "BaseResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "响应码，0表示成功，1表示失败",
            "x-go-type-skip-optional-pointer": true
          }
        },
        "required": [
          "code"
        ]
      },
      "CheckinMethods": {
        "type": "object",
        "properties": {
          "gps": {
            "type": "boolean",
            "description": "是否需要GPS位置校验",
            "default": false,
            "x-go-type-skip-optional-pointer": true
          },
          "face": {
            "type": "boolean",
            "description": "是否需要人脸识别校验",
            "default": false,
            "x-go-type-skip-optional-pointer": true
          },
          "wifi": {
            "type": "boolean",
            "description": "是否需要WiFi校验",
            "default": false,
            "x-go-type-skip-optional-pointer": true
          },
          "nfc": {
            "type": "boolean",
            "description": "是否需要NFC校验",
            "default": false,
            "x-go-type-skip-optional-pointer": true
          }
        },
        "description": "校验方式组合"
      },
      "WifiInfo": {
        "type": "object",
        "properties": {
          "ssid": {
            "type": "string",
            "description": "WiFi名称",
            "x-go-type-skip-optional-pointer": true
          },
          "bssid": {
            "type": "string",
            "description": "WiFi MAC地址",
            "x-go-type-skip-optional-pointer": true
          }
        },
        "required": [
          "ssid",
          "bssid"
        ],
        "description": "WiFi校验信息"
      },
      "NFCInfo": {
        "type": "object",
        "properties": {
          "tagId": {
            "type": "string",
            "description": "NFC标签ID",
            "x-go-type-skip-optional-pointer": true
          },
          "tagName": {
            "type": "string",
            "description": "NFC标签名称（可选）",
            "x-go-type-skip-optional-pointer": true
          }
        },
        "required": [
          "tagId"
        ],
        "description": "NFC校验信息"
      },
      "GroupMembershipStatus": {
        "type": "string",
        "enum": [
          "none",
          "pending",
          "member",
          "rejected"
        ],
        "description": "用户在组中的状态：none(未关联)、pending(申请中)、member(普通成员)、rejected(申请被拒绝)",
        "x-go-type-skip-optional-pointer": true,
        "examples": [
          "none"
        ]
      },
      "VerificationData": {
        "type": "object",
        "properties": {
          "locationInfo": {
            "type": "object",
            "properties": {
              "location": {
                "$ref": "#/components/schemas/Location"
              }
            },
            "required": [
              "location"
            ],
            "description": "位置校验信息（仅当任务需要GPS校验时必须提供）"
          },
          "faceData": {
            "type": "string",
            "format": "byte",
            "description": "人脸识别数据的Base64编码（仅当任务需要人脸校验时必须提供）",
            "x-go-type-skip-optional-pointer": true
          },
          "wifiInfo": {
            "$ref": "#/components/schemas/WifiInfo",
            "description": "检测到的WiFi信息（仅当任务需要WiFi校验时必须提供）"
          },
          "nfcInfo": {
            "$ref": "#/components/schemas/NFCInfo",
            "description": "扫描到的NFC标签信息（仅当任务需要NFC校验时必须提供）"
          }
        },
        "description": "校验数据组件，根据不同的校验方式需要提供不同的字段"
      },
      "TaskVerificationConfig": {
        "type": "object",
        "properties": {
          "checkinMethods": {
            "$ref": "#/components/schemas/CheckinMethods",
            "description": "该次签到使用的校验方式组合",
            "readOnly": true
          },
          "locationInfo": {
            "type": "object",
            "properties": {
              "location": {
                "$ref": "#/components/schemas/Location"
              },
              "radius": {
                "type": "integer",
                "description": "有效半径 (米)",
                "minimum": 1,
                "maximum": 10000,
                "x-go-type-skip-optional-pointer": true
              }
            },
            "required": [
              "location",
              "radius"
            ],
            "description": "位置相关校验信息"
          },
          "wifiInfo": {
            "$ref": "#/components/schemas/WifiInfo",
            "description": "检测到的WiFi信息（仅当任务需要WiFi校验时必须提供）"
          },
          "nfcInfo": {
            "$ref": "#/components/schemas/NFCInfo",
            "description": "扫描到的NFC标签信息（仅当任务需要NFC校验时必须提供）"
          }
        },
        "required": [
          "checkinMethods",
          "locationInfo"
        ],
        "description": "任务校验配置组件，包含校验方式配置和相关参数"
      },
      "Success": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "data": {
                "type": "object",
                "default": {},
                "properties": {}
              }
            }
          }
        ]
      },
      "SuccessWithData": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "data": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "具体数据结构需在各API中定义",
                    "properties": {}
                  },
                  {
                    "type": "array",
                    "description": "具体数据结构需在各API中定义",
                    "items": {
                      "type": "string"
                    }
                  }
                ]
              }
            },
            "required": [
              "data"
            ]
          }
        ]
      },
      "Error": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      },
      "Unauthorized": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      },
      "Forbidden": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      },
      "NotFound": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      },
      "Conflict": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      },
      "BadRequest": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      },
      "InternalServerError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseResponse"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ]
          }
        ]
      }
    },
    "securitySchemes": {
      "JWT鉴权": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "servers": [],
  "security": []
}